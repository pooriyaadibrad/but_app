{% load static %}
<!DOCTYPE html>
<html lang="fa" dir="rtl">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="{% static 'src/output.css' %}" rel="stylesheet">
  <title>خوابگاه</title>
  <style>
    /* استایل‌های سفارشی */
    body {
      background-color: #f7fafc;
      font-family: sans-serif;
      color: #2d3748;
    }
    header {
      background: linear-gradient(to left, #2c5282, #3182ce);
      color: #fff;
      padding: 1rem 0;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
      position: sticky;
      top: 0;
      z-index: 50;
    }
    header nav {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 0 1rem;
    }
    header a {
      color: #fff;
      text-decoration: none;
      margin-left: 1rem;
      transition: color 0.3s;
    }
    header a:hover {
      color: #e2e8f0;
    }
    main {
      max-width: 1200px;
      margin: 2rem auto;
      padding: 0 1rem;
    }
    h1, h2 {
      text-align: center;
      margin-bottom: 1rem;
    }
   .slider-container {
  position: relative;
  max-width: 800px;
  overflow: hidden;
  margin: 0 auto;
}
#slider {
  display: flex;
  transition: transform 0.7s ease;
}
#slider img {
  min-width: 100%;
  object-fit: cover;
}

    .slider-btn {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background-color: #fff;
      color: #3182ce;
      border: none;
      border-radius: 50%;
      padding: 0.75rem;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      cursor: pointer;
      transition: background-color 0.3s;
    }
    .slider-btn:hover {
      background-color: #ebf8ff;
    }
    #prev {
      left: 1rem;
    }
    #next {
      right: 1rem;
    }
    .indicators {
      position: absolute;
      bottom: 1rem;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 0.5rem;
    }
    .indicators button {
      width: 0.75rem;
      height: 0.75rem;
      border-radius: 50%;
      border: none;
      background-color: #63b3ed;
      cursor: pointer;
      transition: background-color 0.3s;
    }
    .indicators button.active {
      background-color: #3182ce;
    }
    /* About Section */
    .about-section {
      background-color: #fff;
      padding: 2rem;
      border-radius: 0.5rem;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      margin-bottom: 2rem;
      text-align: center;
    }
    /* Dorm List */
    .dorm-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
    }
    .dorm-card {
      background-color: #fff;
      padding: 1rem;
      border-radius: 0.5rem;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      display: flex;
      align-items: center;
      gap: 1rem;
      transition: transform 0.3s;
    }
    .dorm-card:hover {
      transform: scale(1.02);
    }
    .dorm-card img {
      width: 4rem;
      height: 4rem;
      border-radius: 50%;
      object-fit: cover;
    }
    .dorm-card h3 {
      margin: 0;
      font-size: 1.25rem;
    }
    .dorm-card a {
      color: #3182ce;
      text-decoration: none;
      font-size: 0.875rem;
      transition: text-decoration 0.3s;
    }
    .dorm-card a:hover {
      text-decoration: underline;
    }
    /* Footer */
    footer {
      background-color: #2c5282;
      color: #fff;
      padding: 2rem 1rem;
      margin-top: 2rem;
    }
    footer .footer-container {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      gap: 2rem;
    }
    footer h3 {
      margin-bottom: 0.5rem;
    }
    footer ul {
      list-style: none;
      padding: 0;
      margin: 0;
    }
    footer ul li {
      margin-bottom: 0.5rem;
    }
    footer ul li a {
      color: #fff;
      text-decoration: none;
      transition: text-decoration 0.3s;
    }
    footer ul li a:hover {
      text-decoration: underline;
    }
    footer iframe {
      width: 100%;
      border: 0;
      border-radius: 0.5rem;
    }
    footer hr {
      margin: 1.5rem 0;
      border-color: #4299e1;
    }
    footer p {
      text-align: center;
      margin: 0;
    }
    .slider-container {
  position: relative;
  max-width: 800px;
  overflow: hidden;
  margin: 0 auto;
}

#slider {
  display: flex;
  transition: transform 0.7s ease-in-out;
}

#slider img {
  min-width: 100%;
  object-fit: cover;
  display: block;
}

.slider-btn {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background-color: #fff;
  color: #3182ce;
  border: none;
  border-radius: 50%;
  padding: 0.75rem;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  cursor: pointer;
}

#prev {
  left: 1rem;
}
#next {
  right: 1rem;
}

.indicators {
  position: absolute;
  bottom: 1rem;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  gap: 0.5rem;
}

.indicators button {
  width: 10px;
  height: 10px;
  border-radius: 50%;
  border: none;
  background-color: #ccc;
  cursor: pointer;
}

.indicators button.active {
  background-color: #3182ce;
}

  </style>
</head>

<body>
  <!-- Header -->
  <header>
    <nav>
      <div class="logo">
        <a href="/" class="font-bold text-xl">خوابگاه</a>
      </div>
      <div class="nav-links">
        <a href="/register/">درخواست خوابگاه</a>
        <a href="/follow">پیگیری درخواست</a>
      </div>
    </nav>
  </header>

  <!-- Main Content -->
  <main>
    <!-- Slider Section -->
    <section>
      <h1>تصاویر خوابگاه‌ها</h1>
     <div class="slider-container">
    <div id="slider">
        {% for item in home %}
            <img src="{{ item.image.url }}" alt="Slide {{ forloop.counter }}" class="slide">
        {% endfor %}
    </div>

    {% if home|length > 1 %}
        <button id="prev" class="slider-btn">&#10094;</button>
        <button id="next" class="slider-btn">&#10095;</button>
        <div class="indicators">
            {% for item in home %}
                <button data-index="{{ forloop.counter0 }}" class="{% if forloop.first %}active{% endif %}"></button>
            {% endfor %}
        </div>
    {% endif %}
</div>




    </section>
      <br>
    <!-- About Section -->
    <section class="about-section">
      <h2>درباره خوابگاه‌ها</h2>
      <p>
        خوابگاه‌های ما با ۵ شعبه فعال و امکانات مدرن، محیطی امن و راحت را برای اقامت شما فراهم می‌کنند.
        تجربه‌ای متفاوت از اقامت در محیطی مدرن، آرام و دلنشین.
      </p>
    </section>

    <!-- Dorm List Section -->
    <section>
      <h2>لیست خوابگاه‌ها</h2>
      <ul class="dorm-list">
        {% for but in buts %}
        <li class="dorm-card">
          {% with but.photos.all.first as photo %}
          {% if photo %}
          <img src="{{ photo.image.url }}" alt="{{ but.name }}">
          {% endif %}
          {% endwith %}
          <div class="dorm-info">
            <h3>{{ but.name }} - {{ but.gender_type }}</h3>
            <a href="{% url 'detail' but.id %}">صفحه خوابگاه</a>
          </div>
        </li>
        {% endfor %}
      </ul>
    </section>
  </main>

  <!-- Footer -->
  <footer>
    <div class="footer-container">
      <div>
        <h3>دسترسی سریع</h3>
        <ul>
          <li><a href="#">قوانین و مقررات</a></li>
          <li><a href="#">اخبار</a></li>
        </ul>
      </div>
      <div>
        <h3>تماس با ما</h3>
        <ul>
          <li>جناب آقای ابراهیم لطفی</li>
          <li>کارشناس امور خوابگاه‌ها</li>
          <li>۰۱۱-۴۴۴۴۲۱۳۵ (داخلی ۱۴۹)</li>
          <li>۰۹۱۱-۸۵۳۴۶۷۷</li>
        </ul>
      </div>
      <div>
        <h3>آدرس دفتر مرکزی</h3>
        <p>آمل, خیابان طالقانی, اباذر ۳۵ - ساختمان مرکزی</p>
      </div>
      <div>
        <h3>لوکیشن</h3>
        <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3209.0843669921946!2d52.35405986117578!3d36.45551737246249!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3f8fbd527040a94b%3A0xe9dd3370dd7e561f!2z2K_Yp9mG2LTar9in2Ycg2KrYrti12LXbjCDZgdmG2KfZiNix24zigIzZh9in24wg2YbZiNuM2YYg2KLZhdmE!5e0!3m2!1sfa!2s!4v1737664744386!5m2!1sfa!2s!" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
      </div>
    </div>
    <hr>
    <p>© 2025 خوابگاه. تمامی حقوق محفوظ است.</p>
  </footer>

  <!-- Slider Script -->
  <script>
 document.addEventListener("DOMContentLoaded", function () {
    const slider = document.getElementById('slider');
    const slides = Array.from(slider.getElementsByTagName('img'));
    const prevButton = document.getElementById('prev');
    const nextButton = document.getElementById('next');
    const indicators = document.querySelectorAll('.indicators button');

    if (slides.length < 2) {
        if (prevButton) prevButton.style.display = 'none';
        if (nextButton) nextButton.style.display = 'none';
        return;
    }

    let currentIndex = 0;

    function updateSlider() {
        slider.style.transform = `translateX(${currentIndex * 100}%)`;
        indicators.forEach((indicator, index) => {
            indicator.classList.toggle('active', index === currentIndex);
        });
    }

    prevButton.addEventListener('click', () => {
        currentIndex = (currentIndex > 0) ? currentIndex - 1 : slides.length - 1;
        updateSlider();
    });

    nextButton.addEventListener('click', () => {
        currentIndex = (currentIndex < slides.length - 1) ? currentIndex + 1 : 0;
        updateSlider();
    });

    indicators.forEach((indicator, index) => {
        indicator.addEventListener('click', () => {
            currentIndex = index;
            updateSlider();
        });
    });

    updateSlider();
});


  </script>
</body>

</html>
